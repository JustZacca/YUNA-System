# YUNA-System Docker Compose
#
# Setup:
#   1. cp docker-compose.example.yml docker-compose.yml
#   2. Modifica TELEGRAM_TOKEN e CHAT_ID
#   3. Modifica i path dei volumi (parte sinistra dei ":")
#   4. docker compose up -d

services:
  yuna:
    image: ghcr.io/justzacca/yuna-system:latest
    container_name: yuna-system
    restart: unless-stopped

    ports:
      - "8000:8000"  # API (docs: http://localhost:8000/api/docs)

    environment:
      # Telegram (obbligatorio)
      - TELEGRAM_TOKEN=your_bot_token_here
      - CHAT_ID=your_chat_id_here

      # API Authentication (per PWA)
      - YUNA_USERNAME=admin
      - YUNA_PASSWORD=changeme
      - JWT_SECRET=change-this-to-a-random-string

      # TMDB API (opzionale, per metadata film/serie)
      # Ottieni chiave gratuita: https://www.themoviedb.org/settings/api
      # - TMDB_API_KEY=your_tmdb_api_key

      # Jellyfin (opzionale)
      # - JELLYFIN_URL=http://your-jellyfin:8096
      # - JELLYFIN_API_KEY=your_api_key

      # Intervallo aggiornamento in minuti (default: 60)
      # - UPDATE_TIME=60

    volumes:
      # Database - NON MODIFICARE la parte destra
      - ./data:/data

      # Download folders
      # Modifica SOLO la parte SINISTRA con i tuoi path locali
      # La parte destra (/downloads/*) deve restare invariata
      - /path/to/your/anime:/downloads/anime
      - /path/to/your/series:/downloads/series
      - /path/to/your/movies:/downloads/movies

    networks:
      - yuna-network

  yuna-frontend:
    image: ghcr.io/justzacca/yuna-system-frontend:latest
    container_name: yuna-frontend
    restart: unless-stopped

    ports:
      - "80:80"  # Web UI (http://localhost)

    depends_on:
      - yuna

    networks:
      - yuna-network

networks:
  yuna-network:
    driver: bridge
